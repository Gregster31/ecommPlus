{{> Header }}

<h1>All Orders</h1>

{{#unless orders}}
    <p>No orders found.</p>
{{else}}
    <table>
        <thead>
            <tr>
                <th>Order ID</th>
                <th>Order Date</th>
                <th>Total Price</th>
                <th>Status</th>
                <th>Completed At</th>
                <th>Customer ID</th>
                <th>Address ID</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {{#each orders}}
            <tr order-id="{{this.id}}">
                <td>{{this.id}}</td>
                <td>{{this.orderDate}}</td>
                <td>${{this.totalPrice}}</td>
                <td>{{this.status}}</td>
                <td>{{this.completedAt}}</td>
                <td>{{this.customerId}}</td>
                <td>{{this.addressId}}</td>
                <td>
                    <a href="/orders/{{this.id}}">View</a>
                    <form method="POST" action="/orders/{{this.id}}" id="delete-order-form">
                        <input type="hidden" name="method" value="DELETE">
                        <button type="submit" onclick="return confirm('Are you sure you want to delete this order?');">Delete</button>
                    </form>
                </td>
            </tr>
            {{/each}}
        </tbody>
    </table>
{{/unless}}

{{> Footer }}
